{% extends 'layout.html' %}

{% set intro_title = 'Set URL endpoints' %}
{% set intro_subtitle = 'Set up which endpoints CWAC will scan when it runs for different configurations.' %}

{% block body %}
  <nav aria-label="breadcrumb" class="mb-5">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{{ url_for('root') }}">Home</a></li>
      <li class="breadcrumb-item active" aria-current="page">
        Set URL endpoints
      </li>
    </ol>
  </nav>

  <div>
    {% if files|length != 0 %}
      <ol class="list-group">
        {% for file in files %}
          <li
            class="list-group-item d-flex align-items-center justify-content-between rounded-pill my-2"
          >
            <pre class="m-0 ms-2">{{ file }}</pre>
            <div>
              {% set filename = file.removeprefix('./base_urls/visit/').removesuffix('.csv') %}
              <a
                href="{{ url_for('show_urls', filename=filename) }}"
                class="btn btn-primary rounded-pill"
                >View</a
              >
              <a
                href="{{ url_for('edit_urls', filename=filename) }}"
                class="btn btn-primary rounded-pill"
                >Edit</a
              >
              <button
                class="btn btn-danger rounded-pill config-delete"
                data-filename="{{ filename }}"
              >
                Delete
              </button>
            </div>
          </li>
        {% endfor %}
      </ol>
    {% else %}
      No url files found
    {% endif %}
  </div>
{% endblock %}
